<!DOCTYPE html>
<html lang="zh-hant">

    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>媒體庫</title>
        <!-- link -->
        <link rel="stylesheet" href="./css/index.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">
        <link rel="stylesheet" href="https://pardnchiu.github.io/markdown-editor/css/md-viewer.css">
        <!-- script -->
        <script src="https://pardnchiu.github.io/PDExtension-js/v3/PDExtension.min.js" copyright="Pardn Ltd" defer></script>
        <!-- <script type="module" src="./js/article-add.js"></script> -->
        <!-- inline-style -->
        <style>
            .dom-temp {
                display: none !important;
            }
        </style>
    </head>

    <body id="body">
        <!-- 登入 -->
        <section class="login dom-temp" :if="is_guest">
            <h1>{{ login.title }}</h1>
            <section>
                <label>
                    <input type="password" placeholder="密碼" :model="login.password">
                </label>
                <i class="fa-solid fa-eye-slash" @click="show"></i>
            </section>
            <button @click="login">
                前往
                <i class="fa-solid fa-arrow-right"></i>
            </button>
        </section>
        <!-- 主要 -->
        <section class="dom-temp" :else>
            <!-- 頂部導覽列 -->
            <section :path="./view/body-top.html"></section>
            <!-- 左側導覽列 -->
            <section :path="./view/body-left.html"></section>
            <!-- 內容 -->
            <section class="body-right">
                <!-- 頂部導覽列 -->
                <nav>
                    <button>
                        <i class="fa-solid fa-bars"></i>
                    </button>
                    <a :href="e.href" :for="e in top_tab">{{ e.title }}</a>
                </nav>
                <!-- 頂部按鈕 -->
                <section class="top-button">
                    <section>
                        <button title="列表顯示" @click="change_ti_list">
                            <i class="fa-solid fa-list"></i>
                        </button>
                        <button title="格狀顯示" @click="change_ti_grid">
                            <i class="fa-solid fa-border-all"></i>
                        </button>
                        <span></span>
                        <button title="新增資料夾">
                            <i class="fa-solid fa-folder-plus"></i>
                        </button>
                        <button title="上傳檔案">
                            <i class="fa-solid fa-upload"></i>
                        </button>
                    </section>
                </section>
                <!--  -->
                <section class="folder">
                    <section class="list">
                        <div>
                            <section class="left">
                                <img src="./image/createNotify.png" alt="">
                                <p>createNotifyadfasdfasfafasdfasdfasfasfdasd.png</p>
                            </section>
                            <section class="right">
                                <button class="hint" title="複製連結">
                                    <i class="fa-solid fa-copy"></i>
                                </button>
                                <button class="hint" title="下載檔案">
                                    <i class="fa-solid fa-download"></i>
                                </button>
                                <button class="hint" title="移動檔案">
                                    <i class="fa-solid fa-file-export"></i>
                                </button>
                                <button class="hint alert" title="刪除檔案">
                                    <i class="fa-solid fa-trash-can"></i>
                                </button>
                            </section>
                        </div>
                        <div>
                            <section class="left">
                                <img src="./image/createNotify.png" alt="">
                                <p>createNotify.png</p>
                            </section>
                            <section class="right">
                                <button class="hint" title="複製連結">
                                    <i class="fa-solid fa-copy"></i>
                                </button>
                                <button class="hint" title="下載檔案">
                                    <i class="fa-solid fa-download"></i>
                                </button>
                                <button class="hint" title="移動檔案">
                                    <i class="fa-solid fa-file-export"></i>
                                </button>
                                <button class="hint alert" title="刪除檔案">
                                    <i class="fa-solid fa-trash-can"></i>
                                </button>
                            </section>
                        </div>
                        <details>
                            <summary title="開啟檔案夾">
                                <section class="left">
                                    <i class="fa-solid fa-folder-open"></i>
                                    <i class="fa-solid fa-folder-closed"></i>
                                    <p>logo</p>
                                </section>
                                <section class="right">
                                    <button class="hint alert" title="刪除檔案夾">
                                        <i class="fa-solid fa-trash-can"></i>
                                    </button>
                                </section>
                            </summary>
                            <section>
                                <div>
                                    <section class="left">
                                        <img src="./image/logo/logo_606060.svg" alt="">
                                        <p>logo_606060.svg</p>
                                    </section>
                                    <section class="right">
                                        <button class="hint" title="複製連結">
                                            <i class="fa-solid fa-copy"></i>
                                        </button>
                                        <button class="hint" title="下載檔案">
                                            <i class="fa-solid fa-download"></i>
                                        </button>
                                        <button class="hint" title="移動檔案">
                                            <i class="fa-solid fa-file-export"></i>
                                        </button>
                                        <button class="hint alert" title="刪除檔案">
                                            <i class="fa-solid fa-trash-can"></i>
                                        </button>
                                    </section>
                                </div>
                            </section>
                        </details>
                        <details>
                            <summary>
                                <section class="left">
                                    <i class="fa-solid fa-folder-open"></i>
                                    <i class="fa-solid fa-folder-closed"></i>
                                    <p>logo_1</p>
                                </section>
                                <section class="right">
                                    <button class="hint alert" title="刪除檔案夾">
                                        <i class="fa-solid fa-trash-can"></i>
                                    </button>
                                </section>
                            </summary>
                            <section>
                            </section>
                        </details>
                    </section>
                </section>
            </section>
        </section>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const page = new $dom({
                    id: "body",
                    data: {
                        is_guest: false,
                        login: {
                            title: "Pardn Chiu",
                            // 用於綁定 ':model'
                            password: "",
                        },
                        title: "管理後台",
                        left: {
                            is_article_list: false,
                            is_article_add: false,
                            is_folder_image: true,
                            is_file_edit: false,
                            is_json_edit: false
                        },
                        // 頂部導覽列
                        top_tab: [
                            {
                                title: "首頁",
                                href: "/",
                            },
                            {
                                title: "媒體庫",
                                href: "",
                            }
                        ],
                    },
                    event: {
                        show: function () {
                            const isShow = this.$parent(0).$$class("show");
                            this.__class(`fa-solid ${isShow ? "fa-eye-slash" : "fa-eye"}`);
                            this.$pre(0).$child(0).type = isShow ? "password" : "text";
                            this.$parent(0).$$class_(isShow, "show");
                        },
                        login: function () {
                            page.dom.$child(0)._class("show");

                            setTimeout(() => {
                                page.data.is_guest = false;

                                setTimeout(_ => {
                                    page.event.init();
                                }, 100);
                            }, 1000);
                        },
                        logout: function () {
                            page.data.is_guest = true;
                        },
                        tab_show: function (e) {
                            const parent = this.$parent(0);
                            const is_show = parent.$$class("show") || parent.$sel("a[data-selected='true']");
                            const is_hide = parent.$$class("hide");

                            if (is_hide) {
                                parent._class("show").class_("hide");
                            }
                            else if (is_show) {
                                parent._class("hide").class_("show");
                            }
                            else {
                                parent._class("show");
                            }
                        },
                        change_ti_list: function (e) {
                            const dom = "section.folder".$;

                            if (dom && dom.$sel("section.list")) {
                                dom.$sel("section.list").class_("grid");
                            };
                        },
                        change_ti_grid: function (e) {
                            const dom = "section.folder".$;

                            if (dom && dom.$sel("section.list")) {
                                dom.$sel("section.list")._class("grid");
                            };
                        }
                    },
                    next: (e) => {
                    }
                });
            });
        </script>
    </body>

</html>